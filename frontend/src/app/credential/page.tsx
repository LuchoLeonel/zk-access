'use client';

import { useEffect, useState } from 'react';
import { useProofStore } from '@/hooks/useProofStore';
import { useRouter } from 'next/navigation';
import { decodeJwt } from 'jose'; // npm install jose

const HARDCODED_CREDENTIAL = "eyJhbGciOiJFZERTQSIsInR5cCI6IkpXVCJ9.eyJ2YyI6eyJAY29udGV4dCI6WyJodHRwczovL3d3dy53My5vcmcvMjAxOC9jcmVkZW50aWFscy92MSIseyJmaXJzdG5hbWUiOiJzY2hlbWE6Z2l2ZW5OYW1lIiwibGFzdG5hbWUiOiJzY2hlbWE6ZmFtaWx5TmFtZSIsImJpcnRoZGF0ZSI6InNjaGVtYTpiaXJ0aERhdGUiLCJuYXRpb25hbGl0eSI6InNjaGVtYTpuYXRpb25hbGl0eSIsImRvY3VtZW50VHlwZSI6InNjaGVtYTpkb2N1bWVudFR5cGUiLCJkb2N1bWVudE51bWJlciI6InNjaGVtYTpkb2N1bWVudE51bWJlciIsIm9mZmVyQWMiOiJzY2hlbWE6b2ZmZXJBYyIsInprQmluZGluZ3MiOiJodHRwczovL2V4YW1wbGUub3JnL3prQmluZGluZ3MiLCJzY2hlbWEiOiJodHRwczovL3NjaGVtYS5vcmcvIiwidHlwZSI6IkB0eXBlIn1dLCJ0eXBlIjpbIlZlcmlmaWFibGVDcmVkZW50aWFsIiwiWktBY2Nlc3MiXSwiY3JlZGVudGlhbFN1YmplY3QiOnsiZmlyc3RuYW1lIjoiTGlvbmVsIiwibGFzdG5hbWUiOiJNZXNzaSIsImJpcnRoZGF0ZSI6IjE5ODctMDYtMjQiLCJuYXRpb25hbGl0eSI6IkFSIiwiZG9jdW1lbnRUeXBlIjoiRE5JIiwiZG9jdW1lbnROdW1iZXIiOiIxMjM0NTY3OCIsIm9mZmVyQWMiOnsiMCI6eyJlbWFpbFJlY2lwaWVudCI6Imxpb25lbC5tZXNzaUBnbWFpbC5jb20iLCJlbWFpbFNlbmRlciI6ImhyQGF6dGVjbGFicy5jb20iLCJlbWFpbERvbWFpbiI6ImF6dGVjbGFicy5jb20iLCJlbWFpbFRpbWVzdGFtcCI6IjIwMjQtMDQtMDFUMTI6MDA6MDBaIiwib2ZmZXIiOiIxMDAwMDAwIiwiY3VycmVuY3kiOiJVU0QiLCJjb21wYW55IjoiQXp0ZWNMYWJzIn0sIjEiOnsiZW1haWxSZWNpcGllbnQiOiJsaW9uZWwubWVzc2lAZ21haWwuY29tIiwiZW1haWxTZW5kZXIiOiJjYXJlZXJzQHdvcmxkY29pbi5vcmciLCJlbWFpbERvbWFpbiI6IndvcmxkY29pbi5vcmciLCJlbWFpbFRpbWVzdGFtcCI6IjIwMjQtMDQtMDVUMTQ6MzA6MDBaIiwib2ZmZXIiOiI5NTAwMDAiLCJjdXJyZW5jeSI6IlVTRCIsImNvbXBhbnkiOiJXb3JsZGNvaW4ifSwiMiI6eyJlbWFpbFJlY2lwaWVudCI6Imxpb25lbC5tZXNzaUBnbWFpbC5jb20iLCJlbWFpbFNlbmRlciI6Im9mZmVyc0BzdGFya25ldC5pbyIsImVtYWlsRG9tYWluIjoic3RhcmtuZXQuaW8iLCJlbWFpbFRpbWVzdGFtcCI6IjIwMjQtMDQtMTBUMDk6MTU6MDBaIiwib2ZmZXIiOiIxMTAwMDAwIiwiY3VycmVuY3kiOiJVU0QiLCJjb21wYW55IjoiU3RhcmtuZXQifX19fSwiY2lyY3VpdElucHV0cyI6eyJkZWxlZ2F0aW9uIjp7ImRpZCI6ImRpZDprZXk6ejZNa25MTjk0MXJoaVB1RDV4OHRwTG5ZcWZKZWJwSDZiUU1SREtVZmVLdDJEUzh2Iiwic2lnbmVyX3giOiIyMDQ2MTM1NDgzMjc4ODAyMTkzMzgyMjUwNDUwMzk1NTIzNDkyMTAwOTMyODQ0OTQzMTEwMTk5Njc4NTcwNjUwMDIwMTI3NTIwOTExIiwic2lnbmVyX3kiOiIyNjIwOTc5MjE1MDg1NTI0MTA4MTA2MDcyMTE0NzkzMzQyMjMwNjczNjI5NjI4MjE0MDIwNDU5NTAzNTkxMzA1MjgxODU1OTk0MjgxIiwic2lnbmF0dXJlIjoiSUFvWmdTYVZRdDlSc1FBVk5Fazk2QUZiTHhrYjJPdDJNTXRmcnVEenlDT2I4SkdPMWxQb0dpbDcxYVRpSEZ5VWlVakxrZ1MwQUQ3SFF5d200M0I3QlEifSwiY3JlZGVudGlhbFN1YmplY3QiOnsiZmlyc3RuYW1lIjp7Imhhc2giOiIxMjYyMjQ4MzAzNzk3MDE3NjU5MzUyNjQ0NDUwNDkyNjMxMzEwMjc5NTg2MDgxMTQ1MTE4NTYyNjg4OTEwMDI4NDIzMjkyNTY4NDA1MSIsInNpZ25hdHVyZSI6eyJSOHgiOiIxMTUxOTcxMjk5OTg5ODE2NDI3NDc0MzE5ODQ3NjA4NjEyMzAwNTc1MTIzNDI5ODU0NzgyODQ0NjgxNzI3OTIxODg2NTQ4MDkzNzI5MSIsIlI4eSI6IjEwMjYwODk5MDE1NDkxMDQ1OTAzMjcyNjIxNTA0ODA2ODY1MDE4NjEwNTkwNTQxMTc0OTI2NTcyMTcyODE2MTY4NjA0NDI5MjU0NzY4IiwiUyI6IjUzNzYwMzQ5NzM4NzUwMzQwMDI4MTg4MTQ0Njc2NTcwMDExMTUwNDc2MzAxODI2Mjk3MDUzMDQ4OTA4OTc3OTY3NzY2NzIzMzE0In19LCJsYXN0bmFtZSI6eyJoYXNoIjoiMTUxOTkxMzY2MDI4MzI2NDc2MzkzMjMzMzQ5NTAxMzk5MDU2NDg0NzU2OTE4MTc4ODIwNTQwMTg3OTI3MzEwNTM5MjgyNDk0NjcxOCIsInNpZ25hdHVyZSI6eyJSOHgiOiIxNDU5MDUxNTA5NjA5ODYyMTY4MTEzOTQzODQyMDU5MzQyNTgyOTgyNzYyNDEyNzEyOTQzNTY4MzgzMTU4MjgzMTIxNzg4MjExNzM0NiIsIlI4eSI6IjU0MTM5NzA5NjczOTU1MzM0NzgwNjY2NjUxMTM4MzkzMzc0OTgyNjI2NTk0NjI2NTgxMDE4NDk4NzIyNjk0OTc5MDkxNzg0MzQ4IiwiUyI6IjE1MjA1NDkwNTI0MzE1NDc1ODAwOTcxMzM2MjAzODM5ODU5MjUwNzA5NzE5NzY0MDEwNDgyNjk3MTk1MjM2NjYwMTE1NDExNjU4NDMifX0sImJpcnRoZGF0ZSI6eyJoYXNoIjoiMTY4NjE3MTU5NzYxNjI5MzE1MTMzNzc3ODA1NTU4MDEwMjgxMzE5MjE1NjAzNDYyOTY0NjE5MzE1MjQ5ODYwMzM0MTA2NzE3NDcwNTgiLCJzaWduYXR1cmUiOnsiUjh4IjoiMTY3ODIyMjQ2NDAyNjg1MDM1MDg4NTA3NjM0MzIxNjg0OTUwMjY0MjY5ODI1Mzk0ODk2MzgyMDY1MjIzNzc3OTMzMjk4NDM0OTQiLCJSOHkiOiI1OTU0OTQ5ODg4MjE2MTU1NTYzMzUyNzE0MDg0NzczMjgyNTU4MTYwNjA1Mzc5NTIxOTMyMzE3MzY1Nzg2MTQ1OTI5NjYwMzc4ODIyIiwiUyI6IjE2MjEzNDYzMTUxMzczMDM5NDk4MDc2ODM5NDg3NDMwNzA3MDAxNjA3Njk3MTA3MzAwNjAyOTc4NDg3ODIyNTYyODc0ODI3ODUwNjkifX0sIm5hdGlvbmFsaXR5Ijp7Imhhc2giOiIyOTk0NzU2Mzg2NDU5NjU2MTQ3MDA3MDcyNDI2NTY0MDQzMzI4OTA2OTM1NjU5NDMxMDUwMDg4OTMzODA2ODI3MTczNjMzMTUzMjAyIiwic2lnbmF0dXJlIjp7IlI4eCI6IjE1NDczNTc3NDk3MzY1MDE4OTU2NDM5NTEyNzk5NzA4OTMzMTc3MTk0MTE5NDcyNTM5NDA0NTAxNDIxOTE1NDM0MzkzMjQ3NzUyNDUwIiwiUjh5IjoiMTE0NzAwNjM5NzQ3Mzc4MTQxODE1MDAyMzM2MTkxODkzOTgwNTQxMDk5OTY3Mjc4MDU3MTIxNTQ0NTY2MTkyMjQwMzY1NzU3NTc4MjYiLCJTIjoiOTMyOTkwMTA5Njk2NjAyNjMwMjg4NzM5NjY5MTY0ODAyMzQ1MDQ2MTE4NjA5MTQ1NDEwNzIwNzgzNDc3NjA1NjE2OTU1NjU1NTUyIn19LCJkb2N1bWVudFR5cGUiOnsiaGFzaCI6IjE1MjQ0ODc1NjkwNDU0NjgyMDU5NDQ2MzI5NzQwMTIyMzM3Mjc1NzIxMjc2NDU2OTUzMjQwMjY3MDM4NDQyNDc3ODMwNzMzMjYxMTc0Iiwic2lnbmF0dXJlIjp7IlI4eCI6IjIxNzEzNTg3NjcxMDIwMTY4MTc2MzkwNDM4MDcwOTQwMDcyOTEwNjM2NzkxODYyNTY4OTQzODk0NTM2MzEwNjQ2OTM3NjU5OTk4MDIiLCJSOHkiOiIxMTQ3MjU1NjM0MTA5NzU4MDU1MzE2Mzc5MjA0MzMzOTI4NTQ2ODA5ODAzNTk2ODM0Nzk3Nzg5NTMxMzU1NzY1MzYxMDk1MDEyOTk4OSIsIlMiOiIyMjU4ODAyMjIzNDM3NDM5MzE3MjkzMjAyNzI2NTkzMjQ1OTA1MDcwNzI3MjExMjAwNDMzODU4ODQ3NjkyODc2Mjc5MDI3ODc0MDk5In19LCJkb2N1bWVudE51bWJlciI6eyJoYXNoIjoiMTUzOTQxNjI3NTMzNjg5MTgwNTEzMTk1MTkyMTExOTIyMjQ4NzcwMjA0NTU4NjgxMjM2Mjg3MDM0MDkyMjQ5MzM5Mjg2Nzk0OTg1NjIiLCJzaWduYXR1cmUiOnsiUjh4IjoiODQ0MjM5NDQwMjI4MDYzMzkxNzM4NDIwNDI1NzA3NDUwODQ4MjkyMjQ1NTU1MjQxMTEzMzk3MDc3NzEyNTcxODUwNjM2MTY3ODY2NSIsIlI4eSI6IjEzOTgxNjQwNjI1MTU5MjQxMzAwNzM4Mzk1NjUwNjcxODEzNDI1MTM2MzgxNjM0MTQ2NTI3OTE3ODQ2NzA1MjA5OTMxOTM3MDc3NzYyIiwiUyI6IjYwNTQ1NTM2MTcyNDUwMDYyMjA2Nzc2MzUxNzk4MjM4MzA5OTUzMzQyNTY0MDU0OTIzNTE4NjQwNDAxMzg0NjI3NjQ5MzI0NjU3NiJ9fSwib2ZmZXJBYyI6eyIwIjp7ImVtYWlsUmVjaXBpZW50Ijp7Imhhc2giOiIxMjY0MTgwMDE5MDk2MDI1NDIwNjQ5OTMxMTU2NDczMzMzOTcyMDk1NzI3MTMzMDQzNDc4ODMwMDA3MjQ0MzczMjc1NTYxMzY4ODc0Iiwic2lnbmF0dXJlIjp7IlI4eCI6IjQ1Mjg4NDIyMTcwOTcwOTIyMDYwODY4NzQyOTExMjcwMzY4NTAyNDU1NjcyMjAyMzEwOTcwNjI1MDc4OTA2MzQzOTg0NTMxMzkyMjIiLCJSOHkiOiIzNTU5ODAwNjg2MzQxMDIyOTAyMTkzNTI2NzIxODY2MTU4ODA3NTEzOTQ4MTAwMzQ3MTQyMjU0MzY0NzI1MDEzNjgzMjUwNTU2NzMxIiwiUyI6IjEzOTk2MDU0OTAzMzA0NTY2NjE5NzY4NjgwNDQ3MzEzMjMzMDMwNDgzNjU5NjE1MzE4NDI4NDI5MjY2MzYzODQwOTkwMjUwMTExODMifX0sImVtYWlsU2VuZGVyIjp7Imhhc2giOiI3NzI2NDg2NTk3MjA0OTU4MTE5NzU0NjY0MTczNDkyMjQ4MzgxMzEzOTIzMDU4MDA4NjQzNzk3OTI1OTE5OTY3MDIxODQxNDkyNDUzIiwic2lnbmF0dXJlIjp7IlI4eCI6Ijk4Nzk4ODgyMTY0NzM0NTQxNDc5OTI0MDgwMDgwNzMyNzkyNzEwOTg3NDA0NjI2OTczNDkxODU3MTg4ODcxODk2MjExODk4MDU0MzkiLCJSOHkiOiI1MDI4NzAyODkxMjQwMzkyODQ3NDkxNTAzODU0NjU5MDE2NzgyMDU1MzMwNjAwMTE3ODEwMTEzNjM1MzczMjk2MzQ2NDEwMTU0NTU0IiwiUyI6IjMzMDk3NjEwMjQ2NzQ3MDc2MDMxMTM5OTc2MTQwNDUwNzg0Mjg4Njc2MTkwOTU2NjA5NDI4MDA3NDA2MjQzNDU2MDI3MTA5ODA2NSJ9fSwiZW1haWxEb21haW4iOnsiaGFzaCI6IjEyODY5NTkzNjM1NTg1ODE1ODAxMzEzMjc5NjQwOTA5NTUyMzc4Mzk4OTAxMDYyMDc1MzY1MjUxMDA0MjYwNjE5NzI0NTI0Nzg5NDAiLCJzaWduYXR1cmUiOnsiUjh4IjoiNjc4OTM3OTcwNTMxODIzMjk0MTU0NDAxOTk2NTQyOTA4NTQyMzAzODQ0MjYyNzc5NzU3NTg4MjU3Mjk3NzM1MzkwMDk4OTg2OTc0NyIsIlI4eSI6Ijk4MDIzNDAwNjUyODk3NTA3MTM0ODQ2MjMxOTQ0MDkxMDM1ODMxOTA0OTA4MTkyNzA4MjU1NTM3MDg4NzA5NDAyNjE0MDI3MDQ5MjEiLCJTIjoiMTQ0NjY5ODQ0MjQxNzE5NTU3ODYxNDI4OTk0MTM1MjY0MTE3MDYxNzcyNDM3ODExOTcxOTYxOTA2MzUwMDY1MTg0NDYyMzAyMTg4NSJ9fSwiZW1haWxUaW1lc3RhbXAiOnsiaGFzaCI6IjIwNTU1NTYzMDMwMjk1MDQ1MzY2MTE4NjU2NzQ3ODQ0MDA0OTAwNTY4MDkzODI3MjA1NTE1ODI3NTgyMTI3NDM2MzYzOTE4ODI0ODY1Iiwic2lnbmF0dXJlIjp7IlI4eCI6IjU0ODY1ODk4MzU2ODQ5MDI4NDc3MzMyMDE5MjY4NDA1MTI4Mzk3NTk4NDcwNjA2MjcwNzA2Nzg2OTM2NDA0MTE3NjM3Mjk5NTY0NTQiLCJSOHkiOiIxMDM3NTI4NDIxOTIxMTcxNTkzMTE1ODc1NjQwODEwODA2MDE0ODM5NjEwMDkyMzQwOTEzMzU5NDAxNzM5Mzc2OTI3MDA2NDQyMTAxNiIsIlMiOiIyMDIwNjY4MzE0OTczMzE0MzA1MDk3MTc3MzY0NDE0MTEwMjYyNDgxMjYwMjA4NzQ0OTI0NTI3ODQ0Mzg3MjE1MzQ4MjEyOTMwMDE1In19LCJvZmZlciI6eyJoYXNoIjoiODA4MjIyMjYwMjkyOTIxODUzMTg5MzM4NDA5NDYyNjQwMTgzNjI2MDI3MDM5ODgzMjY2NzEzMjI1ODk5NjQ0NTQwMTEyNjIwODIzMSIsInNpZ25hdHVyZSI6eyJSOHgiOiI2NzAwMTI0ODUwNTE2MDc2NDMxMzYzMTAyMTgyNzUwNTg3NjgwMzgwMTgzMDM5ODY2OTE2NjE1MjI3NDUyNzI1NDI1MDc5MzIxNzgzIiwiUjh5IjoiMTc1MTU2Nzk2NzU1MTEwNzA4OTA4ODE1MDg0NTA3NDk2ODI3ODI3ODg1OTMzNDA2NjQzMjg2MjgyMzA3NjYyNjE5MjM2NDU5MDY1MTMiLCJTIjoiMTUyMjc1ODIyNTI3MTI5MDUxOTA5MzU5MTA3NzQ5Njc4Mjc0MDMxNDYzMzE5MDA1NDE0ODY1NjQ4MzQ2OTQ4MzU1MjkwNzA2MTQzNyJ9fSwiY3VycmVuY3kiOnsiaGFzaCI6IjIwNjgzMzMwMzIxNDY3OTg5ODg2NDU2NzMzNjc3NDMxMTYxMzkwNzU5NDQwNzMxNDk4OTk4OTQ1NzY5ODM1NjQ0Mzc2ODk1NTUzMTI2Iiwic2lnbmF0dXJlIjp7IlI4eCI6IjE3MTcwMzM1MjE2MTk4MTM4NTk1MTkwOTc4ODQzODk5ODY0NDE0NTMxNzczNzkwMTg2NjI3Nzc4MTczNzAzODQzMjE0OTg0Mzc2MDQ3IiwiUjh5IjoiMTY2MDM3MTg3NDAwOTAwNjA4NDMyMzU5Njg3Nzc1MTAwMzk4MDAyMTQzMTI1MTI2MjI2NDA2ODA1NDk1OTc1ODYzODExNzk5NTkyMDIiLCJTIjoiMTA0NzIwMjc3OTk1Mjk1ODUyNjM5NTM2MDQ3NzM0MzUwMDgzNTczOTA5MzM4NDIyMDg4MzcwMDUyNDk2MDI0MTAzNTQ2NTg3MjE0NyJ9fSwiY29tcGFueSI6eyJoYXNoIjoiMTg3ODAzMjA0NDcxOTY3MTE4MTc1ODUxOTA4MzA3NjA1OTk0ODk5OTMzMTMzOTc1MzEwNDkwMjUwMDMyNDU1NzU3Mzk1Nzk3ODEzOTIiLCJzaWduYXR1cmUiOnsiUjh4IjoiNDU2NzIzNzY1OTU3OTgyOTAxODQwMDkxOTc4NzM3NDAxODcwNjQ0MDI1ODg5NTI3NDY5OTYyNDM0NDE5NTg0NDc5MDUwNDAzMjg4OCIsIlI4eSI6IjY1NzU3NDAzNTY3MzMzNDgyNDk5MDIwMDEwODUwNzQ3OTM1NzY4ODQ3Nzk4NzA1NjA0NDIwOTQ3MDY3MzU4NzY4NDM0MTc2ODIxMzciLCJTIjoiMTgyNDI1NzI5MDMxMjAyNjcxMzE4NTUxNTY3NjI5NjY5NTQzMzY1NDU2NDU4ODY1NTg1ODkzODIyMzcwNTY2OTMxMjc1Njg3NzM5MCJ9fX0sIjEiOnsiZW1haWxSZWNpcGllbnQiOnsiaGFzaCI6IjE4ODkyODY2ODkyMjYwMjY2OTkwMzg2MTIxMDI1NTMzMDgxNDU2MTkxMjIwOTIyNDAxNzc1NzEzMzY5NTAwODgzMjc5MzM1MjI1NDk5Iiwic2lnbmF0dXJlIjp7IlI4eCI6IjIxNzAyNjE5NTEwMDQzOTE1NDI4ODUzNzEyMjA3NDkzNDkzMjY3MDI2ODIwMDUwNDI0ODEyNDYyMDA1OTI1MjI2NTI4NzQ5MTM0MDkxIiwiUjh5IjoiMTEwMTA3MDM1NjA0MDQxNzA1NTc2OTY3OTg0MjM1MjY0NDU1Nzg1NDk2MTU2NDU1MDcxMjA3NjI1MDQ4MzM0NzE3NzE3MTI1MjAyNzEiLCJTIjoiODQ3OTg0ODQyODM2NDE0MzIyMDQwNzY2Mjk0NTQwMDM5NDM2NjQ5NjQ0MjkxODk4NTI0ODUwMDY2MTcxMjUxNTAxOTMxNDcxNzc2In19LCJlbWFpbFNlbmRlciI6eyJoYXNoIjoiMTE1NjkyMDc2NTU5MDQ3MTk4OTI0NzE3OTUxNDIxMzY1MzE4NjM4OTQzNzgxNzc5MTczNjY0NTg3NDY2OTEwNTQ1ODA4NzIxNjE4MCIsInNpZ25hdHVyZSI6eyJSOHgiOiIzNzE2NTg5NTYwNDY2ODk0NTA0Mzg0Mjg0NzMzNTA4MTk5OTUyMTA0NDM3NTQxNjg1OTE0MzU1MTI1MjU0ODczOTQ0MjM1MzYxMzM5IiwiUjh5IjoiMTI4NTA2NTQ4MzMzOTM2ODYxMTkxNjg5OTAwNDQ0MzE2ODU1OTMzODAxMzUzMjgwOTkxNDg5ODgzNTIwODM4MzE2ODE0Mjk1NTQyODciLCJTIjoiMjU0MDM3NzQ2MjMwMDgxODQ1OTI3OTQ1NTgxNTE0NjU4NjAwMDM5NTY5MDY0NDIyOTc2Mjc4MjEyNDMwNDY3NDU4NTQ5MjgyMjM5In19LCJlbWFpbERvbWFpbiI6eyJoYXNoIjoiMzY0MjIyNDgzOTcyMDA4NTM1NDY1OTc5MzU3NzY1NTEzMzA0NTM2NTY5ODc2ODc1MTE5ODQwMjYzODYzODcxMTI3MjExMjc4MzM0Iiwic2lnbmF0dXJlIjp7IlI4eCI6IjE0NjQxMTk4OTYyMDk1ODk2NjY0MDg5NzM4NjIxMTU1NDI5NzQyMjgwODA4NDQ0NTU0MTk1MzkzODA5NjQ4Nzk5NDEzMzQ0NzE0MDgzIiwiUjh5IjoiMjY0NTYzMTU1NjUxODgxMjU4MDg2MjkwMTYyMDUwMTA1MjA0Nzk5NjAyOTg4NzgxMjc2MjEwMDg0NDk4NzkzMzIzMzQ1MTQwOTkxNyIsIlMiOiIyMjM4MDE2Njk1MjgwMjU4OTE2MTYxNTc4NjU4MDY1NTcyMjIzNTgxNjM4MDg1NTkxNjU4NzMwNTk1ODYwMTIxMjQ2MTI4NzQwODA3In19LCJlbWFpbFRpbWVzdGFtcCI6eyJoYXNoIjoiMjA5OTY1ODY0MTU1MTY2NDAxOTQ1NTA2NDM3NjUyNjc0NDIzNDQ1MTM0NTU4NzM5Mzk0NTcyMjE4ODU5Mzg0NDEwMTA2NDg1MDcyNzUiLCJzaWduYXR1cmUiOnsiUjh4IjoiNzAxMjQ3MDE2MTMzMjE2NTgxNzEzMzM4NTI3MDg0ODQ4OTM0NTYzMTk3OTAwNzE2NjIwMzcwNTkzNjc5Mjc0MzQ5NTE5NjA5NDE5OSIsIlI4eSI6IjEwMTg2NDc0MTIzOTY4OTU4OTIzNzE4MzEzNzg1NjE1NzI4MDEwNjc4OTE3MDM0ODgzNzY0MjExNTQ1NTUzNzYyODUxNjYxMTE1NDQ3IiwiUyI6IjIyOTk1ODA4MjE2MjExNDMzOTg0MDY0MTI5NTc1Mjc2Mjg2ODM2MTEzMDQ1MjUyMjIzMTg5OTY2NDM0ODA5NTIyOTQ5ODk5MjEwMDgifX0sIm9mZmVyIjp7Imhhc2giOiIyMTQ5MjUxNTEzMDg3MzU3NTkxMDYwNDIyNzg4NjU1MjUzMDg5Nzc1ODEyNDg5Njc5MjQzMjE1Mjg1OTgzMjU4ODAyODc5MjIzNTU0MCIsInNpZ25hdHVyZSI6eyJSOHgiOiI0NDI1MTI0NDc1OTI1NzY4MTc0MzgyNDU5NjQ5MDM5ODAzNjQ1MzI0MDU2NjMzODA4NTQzNTY1ODgwNzQ4NzQxODcxODcyMjQwNzI5IiwiUjh5IjoiMTUxMjE0NzUyODI2MDg2NDk2NzUxMzY1ODUyMTU0MDU4ODYyOTMwMDQ0MzY2NDQ1MzAwMjkxODMzNjA1NzQ2NjE3NjE5MDY4OTM4ODciLCJTIjoiMjE3OTMzNTkzNDMyOTc3NDE2MTQ3OTY4MDY3MTcxNzc0Nzk0NzYxODQ3MDUxNDE0OTQzNzkyOTgyNDg2OTAwNjI2MzQyMDA2Mzc5NiJ9fSwiY3VycmVuY3kiOnsiaGFzaCI6IjE4NTQxMTI4NDYyNDQ0ODg2ODkzNjYzODA5MzYwMTQyMjU1Njk3ODMxMjkwNDAxNzQ4MjE0NjY2NzQwNjA4NTU3NTUxNzc1Mjc1MDcxIiwic2lnbmF0dXJlIjp7IlI4eCI6IjE1OTY3NDM1MjYwNjQxNzcwMjE1NTQ0ODYwMTc1MjczOTMyMTEzOTI5MzU5ODUxMTA4MDU4MzUzOTM5NzcxODIxMzU2ODU2MDc4NjMxIiwiUjh5IjoiMTA4MzU4MjczOTE2NDgxOTk2NjczMDk4NDcyNTY1MzE1ODkwNDE1OTYyNDMyNzMzODIwODE3MzE3MjY0NzQ4MjY5ODk2OTc0NDIxMTciLCJTIjoiMzYwMTE1MzQzMDkwMzM3NjA2ODM2NTQyNDE4MDAxODc1NDYwMDgzMDk0NzEzMzMyMDc4ODU5ODc0MTU1MjA3MjUyMDMyNDY2MTI3In19LCJjb21wYW55Ijp7Imhhc2giOiIzMzE1OTAwMDAyMDAwNDc4ODM1NTIzNTE4MjU4MjQ1MDQwNTgxOTk2MTYxNTY5NzI5NTgwMzI0NjcyODE2MDA2Njc3NzQ2OTQwODc3Iiwic2lnbmF0dXJlIjp7IlI4eCI6IjQxOTQyOTk3MzI1MjYzMTA1OTUxODAwNTExNDAzMjI3OTkyNjcwOTU5NTYwMDAyMDA4MzUwNDU5OTIxNDU1ODgwNzA1ODM0NDcyNDQiLCJSOHkiOiIxNzIwMjA2NjMzMjkwNTgyNzMxMzk3MDg0MzI5MTIwMTUxNzUzNzYzOTE0NDcyODM1ODc3NjQwMDIyMjQwNTMzODY3MTczNDgzNDM0MyIsIlMiOiIxODM2NzA5MDY5NTUwMzM0OTM0MDg1Mzc4NTY5NjU4NjYyMDUxNjMwNjAxMTcwMzE3MDIwMDQzOTAyMTk3MTY4MzI3MDA0MjE2NDMifX19LCIyIjp7ImVtYWlsUmVjaXBpZW50Ijp7Imhhc2giOiIxNzM1MTUzODE2NDg4ODY0NDkzMzA5NDU1OTkwMjU1MjkwNDEzODI5Mzg3OTE2OTE0ODIzNDEwMjI2ODMzMTIyMzI1NTg5OTE1NTM2Iiwic2lnbmF0dXJlIjp7IlI4eCI6IjE3MzgxNzA5ODkyMTQ3MzUxNzE0NDM3ODY3MDA2MDA5MzM3MTQ0NjI4NzgzMDM3MzY0ODQ2NzExNTkzNzc5NTIxOTA5Nzc3MjY0NDU0IiwiUjh5IjoiMTQ2MDAxNjY0MDYyMTU2MjQxODkwMDQ4NjE4NDgzMTkxNTE4MjE2MzA3OTI2NDE4NzU4MTE2ODQyMjg5MTI4MjQwMjQ3Njk2OTk2MjkiLCJTIjoiMjY0NDM3OTcyNzU2MDUyNTQwNTk5MTM2NjE1NjEyOTg3NTUyMTAwODc5NDkwMzU2MzE0OTE2OTM0ODYyNzkzMTg5MDAyMDEwNjU5MiJ9fSwiZW1haWxTZW5kZXIiOnsiaGFzaCI6IjczNjgyOTA3NjI0NTAxMDYwOTk5OTU0MTk5NDA0NDE3MDI4NjQ4MTE0MDc3Mzk4NTE1OTYzNjY4NTk3OTk5OTY5Nzc1NDYxMjE2NzMiLCJzaWduYXR1cmUiOnsiUjh4IjoiMTM0OTM0MzMyMDE5MTMwNzY0Mzc2ODMyNjM5MDg0NDU2ODg0MDE1ODIxODkwODQyMjc3MTY5NTIwMTI4NjY3NDc1MDgzOTE3ODM3MjUiLCJSOHkiOiIxNTQzOTYyMTA1Mzg3NDk4MTMzNDMwMDYyNDcyMjU2Njk0NjU3NTUzODYzNDQxNzI5NjA5ODIwNzcwOTIwNTM1MzIyMDc5MzQwMzYwNCIsIlMiOiI2NzAwMTUyNDI3NzQxNTE4NjgwODI2NTk4NzQyNzI0MzQ5NTg4NjM5MDA4NTkwOTU0NzI0NDQyNTY5MjQ5NTY5MjgxNjQwMzkyODYifX0sImVtYWlsRG9tYWluIjp7Imhhc2giOiI2Mzk5NjgxMDc4OTEzNzk4MDMzMzEyNTUxNjA5NDUyNzQ2MTY3OTc2NTc2NjI5NDYzOTI5MTg0MTUwNDE0ODI2NTkwNTg3MjExNDc2Iiwic2lnbmF0dXJlIjp7IlI4eCI6IjMwMjIxNDU0NjAxOTI4MjM2OTU2MDQ2NTExNTgwNTkzMjQ4Mzk5NjMzNDc5NDgwNDk3NDU3NDExOTY1MTcwMDYwODk2MTAzNDI0MDEiLCJSOHkiOiI4NjI2Mjc2MzU4MTMwOTI0MTYwNjUyMDc1OTAwMDAyMjkyMzE2MTU4MzQxNDA5MjYyMTE1OTc5NzYzODg3ODk3Mzc1MDkzNzUyNzIxIiwiUyI6IjI3MzQzOTE5MjgxNTY4MDk2MDY5NzUzMDM5NDY0MDExMzU3NjUyODY4ODY5NDc3NDU0ODk0MzY0ODY1NDA1NTEzOTY5MzMzNzk5MjcifX0sImVtYWlsVGltZXN0YW1wIjp7Imhhc2giOiI2NjY4Mzg3MDIyMDM3NTM5NjI4NTgwODcwMzE0MDcwMDIzNTIxMzcwOTQyMzU1NjA1MTk3NTA0OTc0NTgyMDYzODA3MjkwODg0OTg3Iiwic2lnbmF0dXJlIjp7IlI4eCI6IjE0ODM1MzMzOTA4MDg4MzU5MTI5MzI3NzY2NjE2MTU3NDUyNzMyODMyNTU2MjUwNjk2NTczMDc3MDA4ODE2MDExMjY4NTUwNzQxMDgwIiwiUjh5IjoiMTg0Mjg2MzYxNDUxNzkyMTQ5NDM3NDIxOTcxMTMyNTE3MjYzNzg4NjA1NTIwNTQyNDczMDY5MDE2NTgwNzY3MjA5OTgzODk5ODYzNzIiLCJTIjoiMjEwMDI5NTUzMjAwOTE4ODIwNjk0NDg4ODI1NjAwMTQ2MzEwNDI5MzU0NDI3ODk1MDE1MzY1ODc0NTYzNzM5MDU2NTQ2MjQ4ODkxMiJ9fSwib2ZmZXIiOnsiaGFzaCI6IjIwNzM5NjI0OTcyNTQyNzk4NTM0NTk1NzUwMTg5NDQyMjcxMDM2MTg5OTA4MTkxMjc5ODI1MDEyMzI5NTc2NDM2MjAyNTc0OTQ2MTkxIiwic2lnbmF0dXJlIjp7IlI4eCI6IjEzNTkzNzM2MDg4NTg1MzY1MzY5OTAxODU5NDA4NTY4NzA3ODQ2NDczNTcxNjg4NTM0NjY0NTc0MDYxNzM5NzkzNDI0NDIxMjEyNjk0IiwiUjh5IjoiMTYyMDUzNzc1OTgwNDYwMzE0NDMzNDc0ODk2MTM3MDI4OTE1NjA3NzA5MDE2NTQ3NTk0NTc5NDI3ODg5NDEwMjc2OTk1MDMyNzI5MzkiLCJTIjoiMjcxOTY5MDc3MTM2OTAzMDM1MzE3ODA0OTI3MzcwMDM0MzU5OTkyNzQ2NjU3ODQzMzkxMzgzOTQ5ODE5NTE4OTUyNjg1MjMzNzI5MSJ9fSwiY3VycmVuY3kiOnsiaGFzaCI6IjEwNTI5ODQ2NTY0Njc4NjM5ODg5Mjc2MzMwNDA2NjQ2MTA2MjE2MzUxNjU5MzE3MzEzMzcwMDQ3Nzg1NjkyNDkzNzEzMjAyODI2NzQiLCJzaWduYXR1cmUiOnsiUjh4IjoiMTc1MDcxNzM2NDY5MTA2ODk3MzU3Nzg2NjI2NDAyNjg5NjIzMjY2MTY3MDQ2MDQ5Mzk4OTAzOTg4MTY3OTIzNDExMzM3NTEzMTM1NTMiLCJSOHkiOiIxMDMxMTUwNDUzMzUzOTMxMTM3Mjk1MTgxMzg2MjcyNDg4MjkzMjg4NzA5NTM2NDI4MDUxODQxOTIwNzUzMjQ3MzAyMzgyOTY0NTIwNCIsIlMiOiIxNzk1MjcwODgxMDI5NzcyNjM4MTMxODYzNTMzODU0MTExMzI1MTI1MjEwNzI0NDMwNjI1NTMzMTE1NDYxNzg4ODQ2NjY4MjgwMDQxIn19LCJjb21wYW55Ijp7Imhhc2giOiIyMTU3NTM1MjMwMDQ1NjYzMjYwNDg0ODIwMzcxNDM3NDQzMjQ0NDkzMTY0OTI1NjQwMDYxNDQ2MjIxOTA2MTI0MjY0MjE0ODM0MjMxNyIsInNpZ25hdHVyZSI6eyJSOHgiOiI5MTcwODIzMTYwOTg0Njc4MzIyNDc5NTUzODMxODMwOTYzNzI1OTg2MTQ1OTkzNzUyMzUxODY1Nzg2NjY3Njg3MTUxNDIzOTY1NSIsIlI4eSI6IjE1ODgyODA1OTExNDQ2MTQxODM5ODA0NjE0ODI0NDg3NDkzNzIwOTI4MjA1MTE3Mjg1MzIxNjUwNDgyMjYyOTUyNTA5OTA4NDk5ODE2IiwiUyI6IjY3NjY0NzgxNzkyMDU4MDEyOTczNDExNTI0MTgxODc3MDQ0NjMzNzg5NjY5MDI3MzQ2NTU1NjExOTk5NTU5OTM1ODY0OTk2MjI5NyJ9fX19fX0sInN1YiI6InVybjp1dWlkOmMzYTliZTQ5LWMwNTItNDNhZi04MDFiLWEyMGE2NGY5OGUzMCIsIm5iZiI6MTc0NjY5MzMyMCwiaXNzIjoiZGlkOmtleTp6Nk1rbkxOOTQxcmhpUHVENXg4dHBMbllxZkplYnBINmJRTVJES1VmZUt0MkRTOHYifQ.H7w9xDrqD0OlJEXzlWvRlaILPTXCwjPine-rlFu6YpwuNAmIUO2D0-IJovBBHBGesb9gWHSqzIkgKpOqBTP2DA"
    

export default function ClaimCredentialPage() {
  const { ZKCredential } = useProofStore();
  const router = useRouter();
  const [decoded, setDecoded] = useState<any>(null);
/*
  useEffect(() => {
    const credential = ZKCredential;
    try {
      const payload = decodeJwt(credential);
      setDecoded(payload);
    } catch (err) {
      console.error('Error decoding JWT', err);
    }

  }, [ZKCredential]);
*/
  return (
    <div className="min-h-[calc(100vh-8.5rem)] bg-blue-50 flex items-center justify-center p-4">
  <div className="bg-white shadow-lg border border-gray-200 rounded-xl p-6 w-full max-w-screen-lg text-left">
  <div className="flex items-center justify-center my-6 outline-2 ">
  <div className="text-3xl font-bold mr-10">Your</div>
          <div className="relative max-w-[260px] max-h-[160px] rounded-xl overflow-hidden shadow-md">
          <img
            src="/background.png"
            alt="Credencial"
            className="rounded-xl w-full h-auto object-cover"
          />
          <div className="absolute top-2 left-2 h-7 m-1 shadow-sm">
            <img
              src="/logo.png"
              alt="Logo"
              className="h-full w-auto object-contain"
            />
          </div>
          <h1 className="absolute top-4 left-1/2 transform -translate-x-[30%] text-white text-xl font-semibold tracking-wide">
            ZK-Access
          </h1>
        </div>
        </div>

    {ZKCredential ? (
      <pre className="text-sm whitespace-pre-wrap break-words text-gray-700">
        {JSON.stringify(ZKCredential, null, 2)}
      </pre>
    ) : (
      <p className="text-gray-500 text-sm">Loading credential...</p>
    )}
  </div>
</div>
  
  );
}
